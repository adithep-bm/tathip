# üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ NotImplementedError ‡πÉ‡∏ô Playwright

## ‚úÖ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥

### 1. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ URL

- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á URL
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô URL ‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (>2000 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô URL ‡∏ó‡∏µ‡πà‡∏°‡∏µ encoding ‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥

### 2. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Browser Configuration

- ‡πÄ‡∏û‡∏¥‡πà‡∏° Chrome arguments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
- ‡∏•‡∏î timeout ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏á
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `full_page=True` ‡πÄ‡∏õ‡πá‡∏ô `False` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `wait_until="networkidle"` ‡πÄ‡∏õ‡πá‡∏ô `"domcontentloaded"`

### 3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Error Handling

- ‡∏à‡∏±‡∏ö error ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞ log ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- Skip URL ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£ crash

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà

### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ screenshot:

```bash
curl "http://localhost:8000/v1/crawler/check-url?url=https://skko.moph.go.th/salarycal/upload_files/th/?view=%E0%B8%AB%E0%B8%B5xxx"
```

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö screenshot ‡∏î‡πâ‡∏ß‡∏¢ URL ‡∏á‡πà‡∏≤‡∏¢‡πÜ:

```bash
curl -X POST "http://localhost:8000/v1/crawler/screenshot-test?url=https://www.google.com"
```

### 3. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:

```bash
curl "http://localhost:8000/v1/crawler/search?query=‡∏ö‡∏≤‡∏Ñ‡∏≤‡∏£‡πà‡∏≤"
```

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

**‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**

```
ERROR   : ‚ùå Playwright error for https://skko.moph.go.th/...: NotImplementedError:
```

**‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**

```
WARNING : ‚ö†Ô∏è URL not safe for screenshot: https://skko.moph.go.th/...
INFO    : Search completed: 10 results, 1 suspicious sites
```

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:

- ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß URL (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2000 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
- ‚úÖ Scheme (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô http:// ‡∏´‡∏£‡∏∑‡∏≠ https://)
- ‚úÖ ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- ‚úÖ ‡∏Å‡∏≤‡∏£ encoding ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

## üöÄ Endpoints ‡πÉ‡∏´‡∏°‡πà

1. **`/v1/crawler/check-url`** - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á URL
2. **`/v1/crawler/screenshot-test`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö screenshot ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Firebase

## üìà ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

- üîÑ ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤ timeout ‡∏à‡∏≤‡∏Å 15s ‡πÄ‡∏õ‡πá‡∏ô 10s
- üîÑ ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏à‡∏≤‡∏Å 2s ‡πÄ‡∏õ‡πá‡∏ô 1s
- üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô screenshot ‡πÅ‡∏Ñ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ó‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤
- üîÑ ‡πÄ‡∏û‡∏¥‡πà‡∏° browser arguments ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
